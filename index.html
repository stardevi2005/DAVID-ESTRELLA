<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STRELLA | Productora Audiovisual</title>
    <meta name="description"
        content="Producción audiovisual por STRELLA. Bodas, Contenido para Redes Sociales y Proyectos Audiovisuales.">

    <!-- TailWind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons (Base) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="index.css?v=3">

    <style>
        /* Essential styles to guarantee requested design layout */
        .ticker-wrapper {
            max-width: 1400px;
            margin: 0 auto;
            border-radius: 9999px !important;
            border: 1px solid rgba(255, 255, 255, 0.08) !important;
            background: rgba(255, 255, 255, 0.02) !important;
            overflow: hidden;
            padding: 0.5rem 0;
            display: block !important;
        }

        .animate-ticker {
            display: flex !important;
            flex-direction: row !important;
            width: max-content;
        }

        .brand-text-premium {
            font-weight: 900 !important;
            font-style: italic !important;
            letter-spacing: 0.15em;
        }

        .social-btn {
            border-radius: 9999px !important;
        }

        #root {
            min-height: 100vh;
            background-color: #0a0a0a;
        }

        .font-serif {
            font-family: 'Playfair Display', serif;
        }
    </style>
</head>

<body class="bg-[#0a0a0a] text-white selection:bg-white selection:text-black">
    <div id="root"></div>

    <script type="text/babel">
        /**
         * STRELLA PRODUCTORA AUDIOVISUAL - PROFESSIONAL PORTFOLIO
         * Technology: React (CDN), Tailwind CSS, Lucide Icons, Custom CSS
         */

        const { useState, useEffect, useRef } = React;

        // Custom Icon Factory to avoid CDN Lucide-React issues
        const createIcon = (name) => (props) => {
            const iconElements = lucide.icons[name];
            if (!iconElements) return null;

            const { size = 24, stroke = "currentColor", strokeWidth = 2, fill = "none", className = "", ...otherProps } = props;

            return React.createElement('svg', {
                xmlns: "http://www.w3.org/2000/svg",
                width: size,
                height: size,
                viewBox: "0 0 24 24",
                fill: fill,
                stroke: stroke,
                strokeWidth: strokeWidth,
                strokeLinecap: "round",
                strokeLinejoin: "round",
                className: `lucide lucide-${name.toLowerCase()} ${className}`,
                ...otherProps,
                dangerouslySetInnerHTML: {
                    __html: iconElements.map(([tag, attrs]) =>
                        `<${tag} ${Object.entries(attrs).map(([k, v]) => `${k}="${v}"`).join(' ')} />`
                    ).join('')
                }
            });
        };

        const Camera = createIcon('Camera');
        const Play = createIcon('Play');
        const Instagram = createIcon('Instagram');
        const Phone = createIcon('Phone');
        const Mail = createIcon('Mail');
        const ChevronRight = createIcon('ChevronRight');
        const Quote = createIcon('Quote');
        const Info = createIcon('Info');
        const Image = createIcon('Image');
        const Monitor = createIcon('Monitor');
        const Sparkles = createIcon('Sparkles');
        const Plus = createIcon('Plus');
        const Star = createIcon('Star');
        const Menu = createIcon('Menu');
        const X = createIcon('X');
        const ArrowUpRight = createIcon('ArrowUpRight');
        const Heart = createIcon('Heart');
        const Share2 = createIcon('Share2');
        const Award = createIcon('Award');
        const Youtube = createIcon('Youtube');
        const Music = createIcon('Music');
        const Download = createIcon('Download');
        const ImageIcon = createIcon('Image');
        const Loader2 = createIcon('Loader2');
        const ZoomIn = createIcon('ZoomIn');
        const AlertCircle = createIcon('AlertCircle');
        const GraduationCap = createIcon('GraduationCap');
        const Lock = createIcon('Lock');

        // --- GLOBAL COMPONENTS ---

        // FloatingLogo removed as per new static design direction

        const Nav = ({ currentSection, onNavigate }) => {
            const [isScrolled, setIsScrolled] = useState(false);
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            useEffect(() => {
                const handleScroll = () => setIsScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const links = [
                { id: 'home', label: 'Inicio' },
                { id: 'trabajos', label: 'Trabajos' },
                { id: 'contact', label: 'Contacto' }
            ];

            return (
                <nav className={`fixed top-0 w-full z-50 transition-all duration-700 ${isScrolled ? 'glass-dark py-4' : 'bg-transparent py-8'}`}>
                    <div className="container mx-auto px-6 flex justify-between items-center">
                        <button onClick={() => onNavigate('home')} className="flex items-center group">
                            <img src="assets/logo-strella-icon-v2.svg" alt="STRELLA Logo" className="h-10 w-10 object-contain" />
                        </button>

                        {/* Desktop */}
                        <div className="hidden md:flex items-center space-x-10">
                            {links.map(link => (
                                <button
                                    key={link.id}
                                    onClick={() => onNavigate(link.id)}
                                    className={`text-[10px] uppercase tracking-[0.25em] transition-all relative py-1 ${currentSection === link.id ? 'text-white' : 'text-stone-500 hover:text-white'
                                        }`}
                                >
                                    {link.label}
                                    {currentSection === link.id && <span className="absolute bottom-0 left-0 w-full h-[1px] bg-white animate-fade-in"></span>}
                                </button>
                            ))}
                        </div>

                        {/* Mobile Toggle */}
                        <button className="md:hidden text-white hover:text-stone-400 transition-colors" onClick={() => setMobileMenuOpen(true)}>
                            <Menu size={24} />
                        </button>
                    </div>

                    {/* Mobile Menu */}
                    <div className={`fixed inset-0 bg-black z-[100] flex flex-col items-center justify-center space-y-8 transition-transform duration-700 ${mobileMenuOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                        <button className="absolute top-8 right-8 text-white" onClick={() => setMobileMenuOpen(false)}>
                            <X size={32} />
                        </button>
                        {links.map(link => (
                            <button
                                key={link.id}
                                onClick={() => { onNavigate(link.id); setMobileMenuOpen(false); }}
                                className={`text-3xl font-serif italic ${currentSection === link.id ? 'text-white underline' : 'text-stone-600'}`}
                            >
                                {link.label}
                            </button>
                        ))}
                    </div>
                </nav>
            );
        };

        // --- PAGE SECTIONS ---

        const HeroSession = ({ onNavigate }) => {
            const [scrollY, setScrollY] = useState(0);

            useEffect(() => {
                const handleScroll = () => setScrollY(window.scrollY);
                window.addEventListener('scroll', handleScroll, { passive: true });
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                <header className="relative min-h-screen flex flex-col justify-center overflow-hidden">
                    {/* Background Image - Clean & Fixed */}
                    <div className="absolute inset-0 z-0 select-none">
                        <img
                            src="assets/hero-bg-v3.png"
                            className="w-full h-full object-cover"
                            style={{
                                objectPosition: 'center 20%'
                            }}
                            alt="STRELLA Background"
                        />
                        {/* Subtle Overlay to make text pop */}
                        <div className="absolute inset-0 bg-black/30"></div>
                    </div>

                    {/* Center Content - Logo & Buttons - Pushed Down */}
                    <div className="relative z-10 flex flex-col items-center text-center px-6 animate-fade-in w-full max-w-7xl mx-auto mt-24 md:mt-32">

                        {/* Main Logo - Centered & Tight Spacing */}
                        <img
                            src="assets/logo-final.png"
                            alt="STRELLA"
                            className="w-[90vw] md:w-[60rem] max-w-full h-auto mb-1 drop-shadow-2xl"
                        />

                        {/* Subtitle - "Justo debajo" */}
                        <h2 className="text-sm md:text-xl font-branding uppercase tracking-[0.5em] text-white/90 drop-shadow-md mb-10 pl-2">
                            Productora Audiovisual
                        </h2>

                        {/* Buttons */}
                        <div className="flex flex-col md:flex-row items-center justify-center gap-8">
                            <button
                                onClick={() => onNavigate('contact')}
                                className="bg-[#1e3a8a] text-white px-10 py-4 rounded-full font-bold uppercase tracking-widest text-[10px] hover:bg-white hover:text-[#1e3a8a] transition-all shadow-[0_0_20px_rgba(30,58,138,0.5)] hover:shadow-[0_0_30px_rgba(255,255,255,0.4)] border border-white/10 backdrop-blur-md flex items-center gap-3 group"
                            >
                                Ver Portafolio <ArrowUpRight size={14} className="group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform" />
                            </button>
                            <button
                                onClick={() => onNavigate('contact')}
                                className="text-white border-b border-[#1e3a8a]/50 pb-1 uppercase tracking-[0.3em] text-[10px] hover:border-blue-400 hover:text-blue-300 transition-all drop-shadow-md"
                            >
                                Reservar Fecha
                            </button>
                        </div>
                    </div>

                    {/* Scroll Indicator */}
                    <div className="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce z-20">
                        <ChevronRight className="rotate-90 text-white/50 w-6 h-6" />
                    </div>
                </header>
            );
        };

        const AboutSection = () => (
            <section className="relative py-40 flex items-center justify-center overflow-hidden min-h-[80vh]">
                {/* Background Image - Cinematic B&W Production */}
                <div className="absolute inset-0 z-0">
                    <img
                        src="https://images.unsplash.com/photo-1543328570-07a829f0418c?q=80&w=2070"
                        className="w-full h-full object-cover grayscale opacity-30 object-center"
                        alt="Film Production Set"
                    />
                    {/* Dark Overlay for Text Readability */}
                    <div className="absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a]/80 to-[#0a0a0a]"></div>
                </div>

                <div className="container mx-auto px-6 relative z-10 text-center max-w-4xl">
                    <span className="text-[#1e3a8a] uppercase tracking-[0.4em] text-xs mb-8 block font-bold drop-shadow-md">Filmmaker & Narrador Visual</span>

                    <h2 className="text-5xl md:text-8xl font-serif italic mb-12 leading-tight text-white drop-shadow-2xl">
                        Elegancia en cada cuadro.
                    </h2>

                    <div className="space-y-8 text-stone-300 text-lg md:text-2xl leading-relaxed font-light drop-shadow-lg">
                        <p>
                            Soy David Estrella, filmmaker y creador audiovisual. En STRELLA transformo ideas y momentos en historias visuales con estética cinematográfica.
                        </p>
                        <p>
                            Trabajo con marcas, restaurantes y eventos, creando fotografía y video que conectan desde la emoción y el detalle. Combino narrativa visual con tecnología e inteligencia artificial para lograr piezas auténticas, actuales y memorables.
                        </p>
                    </div>

                    <div className="mt-16 flex justify-center gap-12">
                        <div className="flex flex-col items-center">
                            <p className="text-4xl md:text-5xl font-serif italic text-[#1e3a8a] mb-2">+100</p>
                            <p className="text-[10px] uppercase tracking-widest text-stone-500">Historias contadas</p>
                        </div>
                    </div>
                </div>
            </section>
        );

        const ContactSection = () => (
            <section className="py-32 container mx-auto px-6">
                <div className="glass rounded-[4rem] p-12 md:p-32 overflow-hidden relative">
                    <div className="absolute top-0 right-0 w-1/3 h-full bg-gradient-to-l from-white/5 to-transparent"></div>

                    <div className="grid md:grid-cols-2 gap-24 relative z-10">
                        <div>
                            <h2 className="text-5xl md:text-8xl font-serif italic mb-12 leading-tight">Vamos a crear<br />algo épico.</h2>
                            <div className="space-y-10">
                                <a href="tel:+51970341772" className="flex items-center gap-6 group">
                                    <div className="w-16 h-16 rounded-full border border-stone-800 flex items-center justify-center group-hover:border-white transition-all duration-500 group-hover:bg-white group-hover:text-black">
                                        <Phone size={24} />
                                    </div>
                                    <div>
                                        <span className="block text-stone-600 text-[10px] uppercase tracking-widest mb-1">WhatsApp</span>
                                        <span className="text-2xl text-stone-400 group-hover:text-white transition-colors">+51 970 341 772</span>
                                    </div>
                                </a>
                                <a href="https://instagram.com/davidestrella_films" className="flex items-center gap-6 group">
                                    <div className="w-16 h-16 rounded-full border border-stone-800 flex items-center justify-center group-hover:border-white transition-all duration-500 group-hover:bg-white group-hover:text-black">
                                        <Instagram size={24} />
                                    </div>
                                    <div>
                                        <span className="block text-stone-600 text-[10px] uppercase tracking-widest mb-1">Instagram</span>
                                        <span className="text-2xl text-stone-400 group-hover:text-white transition-colors">@davidestrella_films</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div className="flex flex-col justify-center">
                            <div className="glass p-12 rounded-[3rem] border-white/5 bg-white/[0.02]">
                                <Quote className="text-stone-900 mb-10" size={60} />
                                <p className="text-2xl font-serif italic text-stone-300 leading-relaxed mb-12">
                                    "La diferencia entre un video y una película es la historia que logramos capturar entre los silencios."
                                </p>
                                <a
                                    href="https://wa.me/51970341772?text=Hola STRELLA, me encantó tu portafolio y quisiera conversar sobre un proyecto."
                                    className="block w-full bg-white text-black py-6 rounded-2xl text-center font-bold text-xs uppercase tracking-widest hover:bg-stone-200 transition-all shadow-xl shadow-white/5"
                                >
                                    Enviar Mensaje
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        );

        const GeneralTestimonials = () => {
            const reviews = [
                { name: "Juan Pérez", text: "Un profesional de primer nivel. STRELLA entiende perfectamente lo que el cliente quiere transmitir." },
                { name: "Lucía García", text: "La calidad de imagen y la narrativa de sus videos es simplemente impresionante. Muy recomendado." },
                { name: "Andrés Rodríguez", text: "Excelente trabajo entregado a tiempo. Su visión artística eleva cualquier proyecto." }
            ];
            return (
                <section className="py-32 bg-stone-900/10">
                    <div className="container mx-auto px-6">
                        <div className="text-center mb-20">
                            <span className="text-stone-600 uppercase tracking-[0.4em] text-[10px] mb-4 block">Testimonios</span>
                            <h2 className="text-5xl font-serif italic">Clientes Satisfechos.</h2>
                        </div>
                        <div className="grid md:grid-cols-3 gap-8">
                            {reviews.map((r, i) => (
                                <div key={i} className="glass p-12 rounded-[2.5rem] relative">
                                    <Quote className="text-white/5 absolute top-6 right-6" size={40} />
                                    <p className="text-stone-400 italic mb-8 font-light italic leading-relaxed">"{r.text}"</p>
                                    <span className="text-white text-[10px] uppercase tracking-widest font-black">— {r.name}</span>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const ClientsTicker = () => {
            const brands = [
                "APPLE", "SONY", "NIKE", "RED BULL", "CANON", "DJI", "ADIDAS"
            ];
            return (
                <section className="py-20 overflow-hidden">
                    <div className="ticker-wrapper">
                        <div className="animate-ticker">
                            {[...brands, ...brands].map((brand, i) => (
                                <div key={i} className="brand-item">
                                    <span className="brand-text-premium">
                                        {brand}
                                    </span>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const SocialLinksSection = () => (
            <section className="py-32 container mx-auto px-6 text-center">
                <div className="mb-20">
                    <span className="text-stone-600 uppercase tracking-[0.4em] text-[10px] mb-4 block">Conectemos</span>
                    <h2 className="text-5xl md:text-7xl font-serif italic">Mi mundo digital.</h2>
                </div>
                <div className="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
                    <a href="https://www.tiktok.com/@davidestrella_" target="_blank" className="social-btn group">
                        <Music className="text-stone-500 group-hover:text-white transition-colors" />
                        <div className="text-left">
                            <span className="block text-stone-600 text-[9px] uppercase tracking-widest font-black">Sigueme en</span>
                            <span className="text-lg font-bold">TikTok</span>
                        </div>
                        <ArrowUpRight size={16} className="ml-auto opacity-0 group-hover:opacity-100 transition-opacity" />
                    </a>
                    <a href="https://www.instagram.com/davidestrella___/" target="_blank" className="social-btn group">
                        <Instagram className="text-stone-500 group-hover:text-white transition-colors" />
                        <div className="text-left">
                            <span className="block text-stone-600 text-[9px] uppercase tracking-widest font-black">Sigueme en</span>
                            <span className="text-lg font-bold">Instagram</span>
                        </div>
                        <ArrowUpRight size={16} className="ml-auto opacity-0 group-hover:opacity-100 transition-opacity" />
                    </a>
                    <a href="https://youtube.com/@davidestrella_?si=1jdC_C4KekEtbeHM" target="_blank" className="social-btn group">
                        <Youtube className="text-stone-500 group-hover:text-white transition-colors" />
                        <div className="text-left">
                            <span className="block text-stone-600 text-[9px] uppercase tracking-widest font-black">Suscribete en</span>
                            <span className="text-lg font-bold">YouTube</span>
                        </div>
                        <ArrowUpRight size={16} className="ml-auto opacity-0 group-hover:opacity-100 transition-opacity" />
                    </a>
                </div>
            </section>
        );


        // --- GRADUACIONES HUB & GALLERY ---

        const StarryBackground = () => (
            <div className="absolute inset-0 overflow-hidden pointer-events-none opacity-60">
                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <pattern id="stars" x="0" y="0" width="120" height="120" patternUnits="userSpaceOnUse">
                            <circle fill="#e2c779" cx="15" cy="15" r="1.5" opacity="0.8" />
                            <circle fill="#e2c779" cx="50" cy="50" r="1" opacity="0.5" />
                            <circle fill="#e2c779" cx="90" cy="20" r="2" opacity="0.9" />
                            <circle fill="#e2c779" cx="30" cy="90" r="1.2" opacity="0.6" />
                            <circle fill="#e2c779" cx="100" cy="95" r="1" opacity="0.4" />
                            <circle fill="#e2c779" cx="70" cy="70" r="1.5" opacity="0.7" />
                        </pattern>
                    </defs>
                    <rect x="0" y="0" width="100%" height="100%" fill="url(#stars)" />
                </svg>
            </div>
        );

        const GraduationGalleryUNAP2026 = ({ onNavigate }) => {
            const CONFIG = {
                API_KEY: "AIzaSyDQtuaas4lv62ZSR79hQsRzuljxUZPc0Fg",
                FOLDER_ID: "175b7qNGksPhNb0qYQbxhjNQu-9PvkvFe",
                EVENT_NAME: "Fiesta de Graduación",
            };

            const [photos, setPhotos] = useState([]);
            const [loading, setLoading] = useState(true);
            const [selectedPhoto, setSelectedPhoto] = useState(null);
            const [error, setError] = useState(null);
            const [currentPage, setCurrentPage] = useState(1);
            const photosPerPage = 30;

            useEffect(() => {
                const fetchPhotos = async () => {
                    try {
                        let allFiles = [];
                        let pageToken = null;
                        const query = encodeURIComponent(`'${CONFIG.FOLDER_ID}' in parents and mimeType contains 'image/' and trashed = false`);
                        const fields = encodeURIComponent('nextPageToken, files(id, name, webContentLink, thumbnailLink, mimeType)');

                        do {
                            const url = `https://www.googleapis.com/drive/v3/files?q=${query}&orderBy=name&fields=${fields}&key=${CONFIG.API_KEY}&pageSize=1000${pageToken ? `&pageToken=${pageToken}` : ''}`;
                            const response = await fetch(url);
                            if (!response.ok) throw new Error("No se pudo conectar a Google Drive. Verifica tu API Key o los permisos de la carpeta.");
                            const data = await response.json();

                            if (data.files && data.files.length > 0) {
                                allFiles = allFiles.concat(data.files);
                            }
                            pageToken = data.nextPageToken;
                        } while (pageToken);

                        let optimizedFiles = [];

                        if (allFiles.length > 0) {
                            // Ordenar de forma "natural" (numérica) para que "foto-2" vaya antes que "foto-10"
                            allFiles.sort((a, b) => a.name.localeCompare(b.name, undefined, {
                                numeric: true,
                                sensitivity: 'base'
                            }));

                            optimizedFiles = allFiles.map(file => ({
                                ...file,
                                thumbnailLink: file.thumbnailLink ? file.thumbnailLink.replace('=s220', '=s1000') : null,
                                directLink: `https://drive.google.com/uc?id=${file.id}`
                            }));
                            // Guardar fotos en el orden numérico correcto (Inicio a Fin)
                            setPhotos(optimizedFiles);
                        }
                        setLoading(false);
                    } catch (err) {
                        console.error("Error al cargar fotos:", err);
                        setError(err.message);
                        setLoading(false);
                    }
                };
                fetchPhotos();

                // Scroll to top when mounted
                window.scrollTo(0, 0);
            }, [CONFIG.API_KEY, CONFIG.FOLDER_ID]);

            // Bloquear el scroll del fondo mientras está abierto el modal
            useEffect(() => {
                if (selectedPhoto) {
                    document.body.style.overflow = 'hidden';
                    document.body.style.touchAction = 'none'; // Evitar gestos de scroll móvil
                } else {
                    document.body.style.overflow = '';
                    document.body.style.touchAction = '';
                }
                return () => {
                    document.body.style.overflow = '';
                    document.body.style.touchAction = '';
                };
            }, [selectedPhoto]);

            const downloadPhoto = (id) => {
                if (!id) return;
                // Forzar la descarga directa enviando al usuario al endpoint de exportación
                window.location.href = `https://drive.google.com/uc?export=download&id=${id}`;
            };

            // Lógica de paginación
            const indexOfLastPhoto = currentPage * photosPerPage;
            const indexOfFirstPhoto = indexOfLastPhoto - photosPerPage;
            const currentPhotos = photos.slice(indexOfFirstPhoto, indexOfLastPhoto);
            const totalPages = Math.ceil(photos.length / photosPerPage);

            const paginate = (pageNumber) => {
                setCurrentPage(pageNumber);
                // Scroll suave al inicio de la galería (compensando el header)
                window.scrollTo({ top: window.innerHeight * 0.7, behavior: 'smooth' });
            };

            return (
                <div className="min-h-screen bg-[#f9f9f9] text-neutral-900 font-sans mt-20 md:mt-0 animate-fade-in relative z-10 w-full mb-0 pb-0 flex flex-col items-stretch">
                    <style dangerouslySetInnerHTML={{
                        __html: `
                @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400;1,600&display=swap');
                .font-cinzel { font-family: 'Cinzel', serif; }
                .font-playfair { font-family: 'Playfair Display', serif; }
              `}} />

                    {/* Botón de volver */}
                    <button
                        onClick={() => onNavigate('graduaciones')}
                        className="absolute top-6 left-6 z-50 bg-black/50 hover:bg-black text-white px-4 py-2 rounded-full backdrop-blur-md flex items-center gap-2 transition-all uppercase tracking-widest text-[10px]"
                    >
                        Volver
                    </button>

                    <header className="relative w-full min-h-[70vh] bg-[#151515] flex items-center justify-center overflow-hidden border-b-[6px] border-[#c5a059] py-20 px-4">
                        <StarryBackground />
                        <div className="absolute inset-0 bg-gradient-to-b from-transparent via-[#151515]/50 to-[#151515] pointer-events-none"></div>

                        <div className="relative z-10 w-full max-w-5xl mx-auto flex flex-col items-center text-center mt-8">
                            <div className="hidden md:block absolute -top-8 right-4 text-center drop-shadow-lg">
                                <div className="text-[#e2c779] font-playfair italic text-5xl mb-1">30</div>
                                <div className="text-[#e2c779] font-playfair italic text-2xl tracking-wide">Enero</div>
                                <div className="text-[#e2c779] font-playfair italic text-2xl tracking-widest mt-1">2026</div>
                            </div>

                            <div className="relative mb-6">
                                <GraduationCap size={130} color="#c5a059" fill="#2d5a40" strokeWidth={1} className="drop-shadow-[0_15px_15px_rgba(0,0,0,0.8)] transform -rotate-3" />
                            </div>

                            <h1 className="text-[#e2c779] text-6xl md:text-8xl font-playfair italic drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)] mb-6 leading-tight">
                                Fiesta de<br />Graduación
                            </h1>

                            <p className="text-[#c5a059] text-xs md:text-lg font-cinzel tracking-[0.2em] md:tracking-[0.3em] uppercase drop-shadow-md px-4 mt-2">
                                "Formados para cuidar, listos para liderar"
                            </p>

                            <div className="md:hidden mt-12 pt-6 border-t border-[#c5a059]/30 w-3/4 mx-auto">
                                <div className="text-[#e2c779] font-playfair italic text-3xl">30 Enero 2026</div>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto py-16 px-4 md:px-8 w-full flex-grow">
                        <div className="text-center mb-12">
                            <h2 className="text-xl md:text-2xl font-cinzel text-neutral-800 tracking-widest uppercase mb-4">
                                Galería de Recuerdos
                            </h2>
                            <div className="h-px w-20 bg-[#c5a059] mx-auto"></div>
                        </div>

                        {loading ? (
                            <div className="flex flex-col items-center justify-center py-20 text-[#c5a059]">
                                <Loader2 className="animate-spin mb-4" size={40} strokeWidth={1.5} />
                                <p className="font-playfair italic text-lg text-neutral-500">Preparando la galería...</p>
                            </div>
                        ) : error ? (
                            <div className="max-w-md mx-auto text-center py-20 px-6 bg-white border border-red-100 rounded-lg shadow-sm">
                                <AlertCircle className="mx-auto mb-4 text-red-400" size={48} />
                                <h2 className="text-lg font-medium text-neutral-800 mb-2">Aviso</h2>
                                <p className="text-sm text-neutral-500 mb-6">{error}</p>
                            </div>
                        ) : photos.length === 0 ? (
                            <div className="text-center py-20 text-neutral-400">
                                <ImageIcon className="mx-auto mb-4 opacity-20" size={64} />
                                <p className="font-playfair italic text-xl text-neutral-600 mb-2">Aún no hay fotos disponibles.</p>
                                <p className="text-sm text-neutral-500">Las imágenes aparecerán aquí automáticamente una vez que se suban a tu carpeta de Drive.</p>
                            </div>
                        ) : (
                            <>
                                <div className="columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6">
                                    {currentPhotos.map((photo) => (
                                        <div key={photo.id} className="relative group overflow-hidden bg-neutral-200 break-inside-avoid shadow-sm hover:shadow-2xl transition-all duration-700 rounded-sm min-h-[250px] flex items-center justify-center">
                                            {/* Fallback element visible before image loads */}
                                            <div className="absolute inset-0 flex items-center justify-center text-neutral-400">
                                                <ImageIcon size={32} className="opacity-30" />
                                            </div>
                                            <img
                                                src={photo.thumbnailLink || photo.directLink}
                                                onError={(e) => {
                                                    if (e.target.src !== photo.directLink) {
                                                        // Fallback to strict UC endpoint
                                                        e.target.src = `https://drive.google.com/uc?export=view&id=${photo.id}`;
                                                    } else {
                                                        e.target.style.opacity = '0';
                                                    }
                                                }}
                                                alt={photo.name}
                                                loading="lazy"
                                                className="relative z-10 w-full h-auto object-cover transition-transform duration-1000 group-hover:scale-105 cursor-pointer bg-neutral-200"
                                                onClick={() => setSelectedPhoto(photo)}
                                            />
                                            <div className="absolute z-20 inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6">
                                                <div className="flex justify-between items-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                                    <button onClick={() => setSelectedPhoto(photo)} className="flex items-center gap-2 text-[#e2c779] text-xs tracking-widest uppercase font-cinzel">
                                                        <ZoomIn size={18} strokeWidth={2} /> Ver
                                                    </button>
                                                    <button onClick={(e) => { e.stopPropagation(); downloadPhoto(photo.id); }} className="p-3 bg-[#c5a059] text-white rounded-full hover:bg-[#b08d4a] transition-colors shadow-lg" title="Descargar Original">
                                                        <Download size={18} />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* Controles de Paginación Comprimidos */}
                                {totalPages > 1 && (
                                    <div className="flex justify-center items-center mt-16 gap-2">
                                        <button
                                            onClick={() => paginate(currentPage - 1)}
                                            disabled={currentPage === 1}
                                            className="px-4 py-2 border border-[#c5a059]/30 text-[#c5a059] rounded-sm disabled:opacity-30 disabled:cursor-not-allowed hover:bg-[#c5a059]/10 transition-colors font-cinzel text-xs uppercase tracking-widest"
                                        >
                                            Anterior
                                        </button>

                                        <div className="flex gap-1 overflow-x-auto max-w-[200px] md:max-w-none px-2 scrollbar-hide py-2 items-center">
                                            {(() => {
                                                const pageNumbers = [];
                                                const maxVisiblePages = 5;

                                                if (totalPages <= maxVisiblePages) {
                                                    for (let i = 1; i <= totalPages; i++) pageNumbers.push(i);
                                                } else {
                                                    if (currentPage <= 3) {
                                                        pageNumbers.push(1, 2, 3, 4, '...', totalPages);
                                                    } else if (currentPage >= totalPages - 2) {
                                                        pageNumbers.push(1, '...', totalPages - 3, totalPages - 2, totalPages - 1, totalPages);
                                                    } else {
                                                        pageNumbers.push(1, '...', currentPage - 1, currentPage, currentPage + 1, '...', totalPages);
                                                    }
                                                }

                                                return pageNumbers.map((num, i) => (
                                                    num === '...' ? (
                                                        <span key={`ellipsis-${i}`} className="w-8 h-8 flex items-center justify-center text-neutral-400 font-playfair">...</span>
                                                    ) : (
                                                        <button
                                                            key={`page-${num}`}
                                                            onClick={() => paginate(num)}
                                                            className={`w-8 h-8 flex items-center justify-center rounded-sm text-xs font-playfair transition-all flex-shrink-0 ${currentPage === num
                                                                ? 'bg-[#c5a059] text-white shadow-md'
                                                                : 'border border-neutral-300 text-neutral-500 hover:border-[#c5a059] hover:text-[#c5a059]'
                                                                }`}
                                                        >
                                                            {num}
                                                        </button>
                                                    )
                                                ));
                                            })()}
                                        </div>

                                        <button
                                            onClick={() => paginate(currentPage + 1)}
                                            disabled={currentPage === totalPages}
                                            className="px-4 py-2 border border-[#c5a059]/30 text-[#c5a059] rounded-sm disabled:opacity-30 disabled:cursor-not-allowed hover:bg-[#c5a059]/10 transition-colors font-cinzel text-xs uppercase tracking-widest"
                                        >
                                            Siguiente
                                        </button>
                                    </div>
                                )}
                            </>
                        )}
                    </main>

                    {selectedPhoto && ReactDOM.createPortal(
                        <div className="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-sm p-4 sm:p-6 md:p-8 animate-in fade-in duration-200" onClick={() => setSelectedPhoto(null)}>
                            <button onClick={(e) => { e.stopPropagation(); setSelectedPhoto(null); }} className="absolute top-4 right-4 md:top-6 md:right-6 p-2 md:p-3 bg-black/50 text-white rounded-full hover:bg-white/20 hover:text-[#e2c779] backdrop-blur-md transition-all z-[110] shadow-lg flex items-center gap-2 cursor-pointer">
                                <span className="hidden md:block text-xs uppercase tracking-widest font-cinzel ml-2">Cerrar</span>
                                <X size={24} strokeWidth={2} />
                            </button>

                            <div className="flex flex-col items-center justify-center w-full max-w-6xl relative z-[105]" onClick={(e) => e.stopPropagation()}>
                                <img
                                    src={selectedPhoto.thumbnailLink || selectedPhoto.webContentLink}
                                    alt={selectedPhoto.name}
                                    className="max-w-full w-auto h-auto object-contain drop-shadow-2xl rounded-sm transition-opacity duration-300 pointer-events-none select-none"
                                    style={{ maxHeight: 'calc(100vh - 140px)' }}
                                />

                                <div className="flex flex-col sm:flex-row items-center gap-3 sm:gap-4 w-full mt-5 justify-center">
                                    <button onClick={(e) => { e.stopPropagation(); setSelectedPhoto(null); }} className="flex items-center gap-3 px-8 py-3 bg-transparent border-2 border-[#c5a059] text-[#c5a059] hover:bg-[#c5a059]/10 transition-all tracking-widest uppercase text-xs font-cinzel rounded-sm w-full sm:w-auto justify-center cursor-pointer">
                                        Volver a la Galería
                                    </button>
                                    <button onClick={(e) => { e.stopPropagation(); downloadPhoto(selectedPhoto.id); }} className="flex items-center gap-3 px-8 py-3 bg-[#c5a059] text-white hover:bg-[#b08d4a] transition-all tracking-widest uppercase text-xs font-cinzel rounded-sm shadow-[0_0_15px_rgba(197,160,89,0.3)] hover:shadow-[0_0_25px_rgba(197,160,89,0.5)] active:scale-95 w-full sm:w-auto justify-center cursor-pointer">
                                        <Download size={18} /> Descargar Original
                                    </button>
                                </div>
                            </div>
                        </div>,
                        document.body
                    )}

                    <footer className="py-16 px-6 text-center border-t border-neutral-200 bg-[#151515] text-[#e2c779] w-full mt-auto">
                        <div className="max-w-xs mx-auto mb-6 h-px bg-[#c5a059]/30"></div>
                        <p className="text-[10px] uppercase tracking-[0.3em] mb-3 text-[#e2c779]/70 font-cinzel">UNAP • Promoción 2026</p>
                        <p className="text-xs font-light text-[#e2c779]/50 font-playfair italic">"Formados para cuidar, listos para liderar"</p>
                    </footer>
                </div>
            );
        };

        const CeremonyGalleryUNAP2026 = ({ onNavigate }) => {
            const CONFIG = {
                API_KEY: "AIzaSyDQtuaas4lv62ZSR79hQsRzuljxUZPc0Fg",
                FOLDER_ID: "1-pEcrb-lpVU0wFp8WuoS48_Y8izPqLDR",
                EVENT_NAME: "Ceremonia de Graduación",
            };

            const [photos, setPhotos] = useState([]);
            const [loading, setLoading] = useState(true);
            const [selectedPhoto, setSelectedPhoto] = useState(null);
            const [error, setError] = useState(null);
            const [currentPage, setCurrentPage] = useState(1);
            const photosPerPage = 30;

            useEffect(() => {
                const fetchPhotos = async () => {
                    try {
                        let allFiles = [];
                        let pageToken = null;
                        const query = encodeURIComponent(`'${CONFIG.FOLDER_ID}' in parents and mimeType contains 'image/' and trashed = false`);
                        const fields = encodeURIComponent('nextPageToken, files(id, name, webContentLink, thumbnailLink, mimeType)');

                        do {
                            const url = `https://www.googleapis.com/drive/v3/files?q=${query}&orderBy=name&fields=${fields}&key=${CONFIG.API_KEY}&pageSize=1000${pageToken ? `&pageToken=${pageToken}` : ''}`;
                            const response = await fetch(url);
                            if (!response.ok) throw new Error("No se pudo conectar a Google Drive. Verifica tu API Key o los permisos de la carpeta.");
                            const data = await response.json();

                            if (data.files && data.files.length > 0) {
                                allFiles = allFiles.concat(data.files);
                            }
                            pageToken = data.nextPageToken;
                        } while (pageToken);

                        let optimizedFiles = [];

                        if (allFiles.length > 0) {
                            // Ordenar de forma "natural" (numérica) para que "foto-2" vaya antes que "foto-10"
                            allFiles.sort((a, b) => a.name.localeCompare(b.name, undefined, {
                                numeric: true,
                                sensitivity: 'base'
                            }));

                            optimizedFiles = allFiles.map(file => ({
                                ...file,
                                thumbnailLink: file.thumbnailLink ? file.thumbnailLink.replace('=s220', '=s1000') : null,
                                directLink: `https://drive.google.com/uc?id=${file.id}`
                            }));
                            // Guardar fotos en el orden numérico correcto (Inicio a Fin)
                            setPhotos(optimizedFiles);
                        }
                        setLoading(false);
                    } catch (err) {
                        console.error("Error al cargar fotos:", err);
                        setError(err.message);
                        setLoading(false);
                    }
                };
                fetchPhotos();

                // Scroll to top when mounted
                window.scrollTo(0, 0);
            }, [CONFIG.API_KEY, CONFIG.FOLDER_ID]);

            // Bloquear el scroll del fondo mientras está abierto el modal
            useEffect(() => {
                if (selectedPhoto) {
                    document.body.style.overflow = 'hidden';
                    document.body.style.touchAction = 'none'; // Evitar gestos de scroll móvil
                } else {
                    document.body.style.overflow = '';
                    document.body.style.touchAction = '';
                }
                return () => {
                    document.body.style.overflow = '';
                    document.body.style.touchAction = '';
                };
            }, [selectedPhoto]);

            const downloadPhoto = (id) => {
                if (!id) return;
                // Forzar la descarga directa enviando al usuario al endpoint de exportación
                window.location.href = `https://drive.google.com/uc?export=download&id=${id}`;
            };

            // Lógica de paginación
            const indexOfLastPhoto = currentPage * photosPerPage;
            const indexOfFirstPhoto = indexOfLastPhoto - photosPerPage;
            const currentPhotos = photos.slice(indexOfFirstPhoto, indexOfLastPhoto);
            const totalPages = Math.ceil(photos.length / photosPerPage);

            const paginate = (pageNumber) => {
                setCurrentPage(pageNumber);
                // Scroll suave al inicio de la galería (compensando el header)
                window.scrollTo({ top: window.innerHeight * 0.7, behavior: 'smooth' });
            };

            return (
                <div className="min-h-screen bg-[#f9f9f9] text-neutral-900 font-sans mt-20 md:mt-0 animate-fade-in relative z-10 w-full mb-0 pb-0 flex flex-col items-stretch">
                    <style dangerouslySetInnerHTML={{
                        __html: `
                @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400;1,600&display=swap');
                .font-cinzel { font-family: 'Cinzel', serif; }
                .font-playfair { font-family: 'Playfair Display', serif; }
              `}} />

                    {/* Botón de volver */}
                    <button
                        onClick={() => onNavigate('graduaciones')}
                        className="absolute top-6 left-6 z-50 bg-black/50 hover:bg-black text-white px-4 py-2 rounded-full backdrop-blur-md flex items-center gap-2 transition-all uppercase tracking-widest text-[10px]"
                    >
                        Volver
                    </button>

                    <header className="relative w-full min-h-[70vh] bg-[#151515] flex items-center justify-center overflow-hidden border-b-[6px] border-[#c5a059] py-20 px-4">
                        <StarryBackground />
                        <div className="absolute inset-0 bg-gradient-to-b from-transparent via-[#151515]/50 to-[#151515] pointer-events-none"></div>

                        <div className="relative z-10 w-full max-w-5xl mx-auto flex flex-col items-center text-center mt-8">
                            <div className="hidden md:block absolute -top-8 right-4 text-center drop-shadow-lg">
                                <div className="text-[#e2c779] font-playfair italic text-5xl mb-1">30</div>
                                <div className="text-[#e2c779] font-playfair italic text-2xl tracking-wide">Enero</div>
                                <div className="text-[#e2c779] font-playfair italic text-2xl tracking-widest mt-1">2026</div>
                            </div>

                            <div className="relative mb-6">
                                <GraduationCap size={130} color="#c5a059" fill="#2d5a40" strokeWidth={1} className="drop-shadow-[0_15px_15px_rgba(0,0,0,0.8)] transform -rotate-3" />
                            </div>

                            <h1 className="text-[#e2c779] text-6xl md:text-8xl font-playfair italic drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)] mb-6 leading-tight">
                                Ceremonia de<br />Graduación
                            </h1>

                            <p className="text-[#c5a059] text-xs md:text-lg font-cinzel tracking-[0.2em] md:tracking-[0.3em] uppercase drop-shadow-md px-4 mt-2">
                                "Formados para cuidar, listos para liderar"
                            </p>

                            <div className="md:hidden mt-12 pt-6 border-t border-[#c5a059]/30 w-3/4 mx-auto">
                                <div className="text-[#e2c779] font-playfair italic text-3xl">30 Enero 2026</div>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto py-16 px-4 md:px-8 w-full flex-grow">
                        <div className="text-center mb-12">
                            <h2 className="text-xl md:text-2xl font-cinzel text-neutral-800 tracking-widest uppercase mb-4">
                                Galería de Recuerdos
                            </h2>
                            <div className="h-px w-20 bg-[#c5a059] mx-auto"></div>
                        </div>

                        {loading ? (
                            <div className="flex flex-col items-center justify-center py-20 text-[#c5a059]">
                                <Loader2 className="animate-spin mb-4" size={40} strokeWidth={1.5} />
                                <p className="font-playfair italic text-lg text-neutral-500">Preparando la galería...</p>
                            </div>
                        ) : error ? (
                            <div className="max-w-md mx-auto text-center py-20 px-6 bg-white border border-red-100 rounded-lg shadow-sm">
                                <AlertCircle className="mx-auto mb-4 text-red-400" size={48} />
                                <h2 className="text-lg font-medium text-neutral-800 mb-2">Aviso</h2>
                                <p className="text-sm text-neutral-500 mb-6">{error}</p>
                            </div>
                        ) : photos.length === 0 ? (
                            <div className="text-center py-20 text-neutral-400">
                                <ImageIcon className="mx-auto mb-4 opacity-20" size={64} />
                                <p className="font-playfair italic text-xl text-neutral-600 mb-2">Aún no hay fotos disponibles.</p>
                                <p className="text-sm text-neutral-500">Las imágenes aparecerán aquí automáticamente una vez que se suban a tu carpeta de Drive.</p>
                            </div>
                        ) : (
                            <>
                                <div className="columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6">
                                    {currentPhotos.map((photo) => (
                                        <div key={photo.id} className="relative group overflow-hidden bg-neutral-200 break-inside-avoid shadow-sm hover:shadow-2xl transition-all duration-700 rounded-sm min-h-[250px] flex items-center justify-center">
                                            {/* Fallback element visible before image loads */}
                                            <div className="absolute inset-0 flex items-center justify-center text-neutral-400">
                                                <ImageIcon size={32} className="opacity-30" />
                                            </div>
                                            <img
                                                src={photo.thumbnailLink || photo.directLink}
                                                onError={(e) => {
                                                    if (e.target.src !== photo.directLink) {
                                                        // Fallback to strict UC endpoint
                                                        e.target.src = `https://drive.google.com/uc?export=view&id=${photo.id}`;
                                                    } else {
                                                        e.target.style.opacity = '0';
                                                    }
                                                }}
                                                alt={photo.name}
                                                loading="lazy"
                                                className="relative z-10 w-full h-auto object-cover transition-transform duration-1000 group-hover:scale-105 cursor-pointer bg-neutral-200"
                                                onClick={() => setSelectedPhoto(photo)}
                                            />
                                            <div className="absolute z-20 inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6">
                                                <div className="flex justify-between items-center transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                                    <button onClick={() => setSelectedPhoto(photo)} className="flex items-center gap-2 text-[#e2c779] text-xs tracking-widest uppercase font-cinzel">
                                                        <ZoomIn size={18} strokeWidth={2} /> Ver
                                                    </button>
                                                    <button onClick={(e) => { e.stopPropagation(); downloadPhoto(photo.id); }} className="p-3 bg-[#c5a059] text-white rounded-full hover:bg-[#b08d4a] transition-colors shadow-lg" title="Descargar Original">
                                                        <Download size={18} />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* Controles de Paginación Comprimidos */}
                                {totalPages > 1 && (
                                    <div className="flex justify-center items-center mt-16 gap-2">
                                        <button
                                            onClick={() => paginate(currentPage - 1)}
                                            disabled={currentPage === 1}
                                            className="px-4 py-2 border border-[#c5a059]/30 text-[#c5a059] rounded-sm disabled:opacity-30 disabled:cursor-not-allowed hover:bg-[#c5a059]/10 transition-colors font-cinzel text-xs uppercase tracking-widest"
                                        >
                                            Anterior
                                        </button>

                                        <div className="flex gap-1 overflow-x-auto max-w-[200px] md:max-w-none px-2 scrollbar-hide py-2 items-center">
                                            {(() => {
                                                const pageNumbers = [];
                                                const maxVisiblePages = 5;

                                                if (totalPages <= maxVisiblePages) {
                                                    for (let i = 1; i <= totalPages; i++) pageNumbers.push(i);
                                                } else {
                                                    if (currentPage <= 3) {
                                                        pageNumbers.push(1, 2, 3, 4, '...', totalPages);
                                                    } else if (currentPage >= totalPages - 2) {
                                                        pageNumbers.push(1, '...', totalPages - 3, totalPages - 2, totalPages - 1, totalPages);
                                                    } else {
                                                        pageNumbers.push(1, '...', currentPage - 1, currentPage, currentPage + 1, '...', totalPages);
                                                    }
                                                }

                                                return pageNumbers.map((num, i) => (
                                                    num === '...' ? (
                                                        <span key={`ellipsis-${i}`} className="w-8 h-8 flex items-center justify-center text-neutral-400 font-playfair">...</span>
                                                    ) : (
                                                        <button
                                                            key={`page-${num}`}
                                                            onClick={() => paginate(num)}
                                                            className={`w-8 h-8 flex items-center justify-center rounded-sm text-xs font-playfair transition-all flex-shrink-0 ${currentPage === num
                                                                ? 'bg-[#c5a059] text-white shadow-md'
                                                                : 'border border-neutral-300 text-neutral-500 hover:border-[#c5a059] hover:text-[#c5a059]'
                                                                }`}
                                                        >
                                                            {num}
                                                        </button>
                                                    )
                                                ));
                                            })()}
                                        </div>

                                        <button
                                            onClick={() => paginate(currentPage + 1)}
                                            disabled={currentPage === totalPages}
                                            className="px-4 py-2 border border-[#c5a059]/30 text-[#c5a059] rounded-sm disabled:opacity-30 disabled:cursor-not-allowed hover:bg-[#c5a059]/10 transition-colors font-cinzel text-xs uppercase tracking-widest"
                                        >
                                            Siguiente
                                        </button>
                                    </div>
                                )}
                            </>
                        )}
                    </main>

                    {selectedPhoto && ReactDOM.createPortal(
                        <div className="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-sm p-4 sm:p-6 md:p-8 animate-in fade-in duration-200" onClick={() => setSelectedPhoto(null)}>
                            <button onClick={(e) => { e.stopPropagation(); setSelectedPhoto(null); }} className="absolute top-4 right-4 md:top-6 md:right-6 p-2 md:p-3 bg-black/50 text-white rounded-full hover:bg-white/20 hover:text-[#e2c779] backdrop-blur-md transition-all z-[110] shadow-lg flex items-center gap-2 cursor-pointer">
                                <span className="hidden md:block text-xs uppercase tracking-widest font-cinzel ml-2">Cerrar</span>
                                <X size={24} strokeWidth={2} />
                            </button>

                            <div className="flex flex-col items-center justify-center w-full max-w-6xl relative z-[105]" onClick={(e) => e.stopPropagation()}>
                                <img
                                    src={selectedPhoto.thumbnailLink || selectedPhoto.webContentLink}
                                    alt={selectedPhoto.name}
                                    className="max-w-full w-auto h-auto object-contain drop-shadow-2xl rounded-sm transition-opacity duration-300 pointer-events-none select-none"
                                    style={{ maxHeight: 'calc(100vh - 140px)' }}
                                />

                                <div className="flex flex-col sm:flex-row items-center gap-3 sm:gap-4 w-full mt-5 justify-center">
                                    <button onClick={(e) => { e.stopPropagation(); setSelectedPhoto(null); }} className="flex items-center gap-3 px-8 py-3 bg-transparent border-2 border-[#c5a059] text-[#c5a059] hover:bg-[#c5a059]/10 transition-all tracking-widest uppercase text-xs font-cinzel rounded-sm w-full sm:w-auto justify-center cursor-pointer">
                                        Volver a la Galería
                                    </button>
                                    <button onClick={(e) => { e.stopPropagation(); downloadPhoto(selectedPhoto.id); }} className="flex items-center gap-3 px-8 py-3 bg-[#c5a059] text-white hover:bg-[#b08d4a] transition-all tracking-widest uppercase text-xs font-cinzel rounded-sm shadow-[0_0_15px_rgba(197,160,89,0.3)] hover:shadow-[0_0_25px_rgba(197,160,89,0.5)] active:scale-95 w-full sm:w-auto justify-center cursor-pointer">
                                        <Download size={18} /> Descargar Original
                                    </button>
                                </div>
                            </div>
                        </div>,
                        document.body
                    )}

                    <footer className="py-16 px-6 text-center border-t border-neutral-200 bg-[#151515] text-[#e2c779] w-full mt-auto">
                        <div className="max-w-xs mx-auto mb-6 h-px bg-[#c5a059]/30"></div>
                        <p className="text-[10px] uppercase tracking-[0.3em] mb-3 text-[#e2c779]/70 font-cinzel">UNAP • Promoción 2026</p>
                        <p className="text-xs font-light text-[#e2c779]/50 font-playfair italic">"Formados para cuidar, listos para liderar"</p>
                    </footer>
                </div>
            );
        };

        const GraduacionesSection = ({ onNavigate }) => {
            const galleries = [
                // Las galerías de UNAP 2026 son privadas.
                // Acceso solo mediante enlaces directos proporcinados a los graduados.
            ];

            return (
                <section className="py-32 bg-stone-950 min-h-screen text-white pt-48">
                    <div className="container mx-auto px-6">
                        <button
                            onClick={() => onNavigate('trabajos')}
                            className="bg-white/5 hover:bg-white/10 text-white px-4 py-2 mb-12 rounded-full flex items-center gap-2 transition-all uppercase tracking-widest text-[10px] border border-white/10"
                        >
                            <X size={14} className="rotate-45" /> Volver a Trabajos
                        </button>

                        <div className="text-center mb-24">
                            <span className="text-[#c5a059] uppercase tracking-[0.4em] text-xs mb-6 block font-bold">Portafolio</span>
                            <h2 className="text-4xl md:text-6xl font-branding uppercase tracking-widest mb-6 border-b border-white/10 inline-block pb-4">Graduaciones</h2>
                            <p className="text-stone-500 max-w-2xl mx-auto text-lg font-light">Accede a las galerías privadas de los eventos.</p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                            {galleries.length > 0 ? (
                                galleries.map((gal, i) => (
                                    <div
                                        key={i}
                                        onClick={() => onNavigate(gal.id)}
                                        className="group cursor-pointer flex flex-col h-full bg-[#111] rounded-2xl overflow-hidden border border-white/5 hover:border-[#c5a059]/30 transition-all duration-500"
                                    >
                                        {/* Image Container */}
                                        <div className="relative aspect-[16/10] overflow-hidden">
                                            <img
                                                src={gal.img}
                                                alt={gal.title}
                                                className="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110"
                                            />
                                            <div className="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                                        </div>

                                        {/* Content */}
                                        <div className="p-8 flex flex-col flex-grow">
                                            <div className="mb-4">
                                                <span className="inline-block px-3 py-1 rounded-full border border-[#c5a059]/40 text-[#c5a059] text-[9px] uppercase tracking-widest font-bold">
                                                    {gal.date}
                                                </span>
                                            </div>
                                            <h3 className="text-2xl font-branding uppercase tracking-wider text-white mb-2 group-hover:text-[#c5a059] transition-colors leading-tight">
                                                {gal.title}
                                            </h3>
                                            <p className="text-stone-400 text-sm font-light uppercase tracking-[0.1em] mb-6 flex-grow">
                                                {gal.subtitle}
                                            </p>

                                            <div className="flex items-center gap-2 text-[#c5a059] text-[10px] uppercase tracking-[0.2em] font-bold opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-[-10px] group-hover:translate-x-0">
                                                Acceder galería <ArrowUpRight size={14} />
                                            </div>
                                        </div>
                                    </div>
                                ))
                            ) : (
                                <div className="col-span-full py-20 text-center border border-white/5 bg-white/5 rounded-3xl backdrop-blur-sm">
                                    <Lock size={48} className="mx-auto mb-6 text-[#c5a059] opacity-50" />
                                    <p className="text-stone-400 text-lg font-light">Todas nuestras galerías de graduación son privadas.</p>
                                    <p className="text-stone-600 text-sm mt-2">Acceso exclusivo mediante el enlace directo proporcionado a los graduados.</p>
                                </div>
                            )}
                        </div>
                    </div>
                </section>
            );
        };

        const TrabajosSection = ({ onNavigate }) => {
            const categories = [
                {
                    title: "Bodas",
                    desc: "Capturamos cada momento de tu día especial con estética cinematográfica.",
                    size: "item-wide item-tall",
                    img: "https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=2070",
                    accent: "from-[#1e3a8a]/60"
                },
                {
                    title: "Graduaciones",
                    desc: "Tu logro merece ser inmortalizado con calidad profesional.",
                    size: "",
                    route: "graduaciones",
                    img: "https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?q=80&w=2070",
                    accent: "from-[#1e3a8a]/40"
                },
                {
                    title: "Quinceaños",
                    desc: "La magia de tus quince, contada como una película.",
                    size: "",
                    img: "https://images.unsplash.com/photo-1464366400600-7168b8af9bc3?q=80&w=2073",
                    accent: "from-pink-900/50"
                },
                {
                    title: "Cumpleaños",
                    desc: "Celebraciones llenas de vida y color en cada toma.",
                    size: "",
                    img: "https://images.unsplash.com/photo-1530103862676-de8c9debad1d?q=80&w=2070",
                    accent: "from-amber-900/50"
                },
                {
                    title: "Restaurantes",
                    desc: "Contenido visual que hace que tus platos hablen por sí solos.",
                    size: "item-wide",
                    img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=2070",
                    accent: "from-[#1e3a8a]/50"
                },
                {
                    title: "Discotecas",
                    desc: "La energía de la noche capturada en su máxima expresión.",
                    size: "",
                    img: "https://images.unsplash.com/photo-1566737236500-c8ac43014a67?q=80&w=2070",
                    accent: "from-purple-900/60"
                },
                {
                    title: "Eventos",
                    desc: "Cobertura profesional para corporativos, lanzamientos y más.",
                    size: "item-wide",
                    img: "https://images.unsplash.com/photo-1540575467063-178a50c9c6c0?q=80&w=2070",
                    accent: "from-[#1e3a8a]/50"
                }
            ];

            return (
                <section className="py-32 bg-stone-950">
                    <div className="container mx-auto px-6">
                        <div className="text-center mb-24">
                            <span className="text-[#c5a059] uppercase tracking-[0.4em] text-xs mb-6 block font-bold">Nuestros Servicios</span>
                            <h2 className="text-4xl md:text-6xl font-branding uppercase tracking-widest mb-6">Trabajos</h2>
                            <p className="text-stone-500 max-w-2xl mx-auto text-lg font-light">Cada proyecto es una historia única. Descubre cómo transformamos momentos en recuerdos cinematográficos.</p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                            {categories.map((cat, i) => (
                                <div
                                    key={i}
                                    onClick={cat.route ? () => onNavigate(cat.route) : undefined}
                                    className="group cursor-pointer flex flex-col h-full bg-[#111] rounded-2xl overflow-hidden border border-white/5 hover:border-[#c5a059]/30 transition-all duration-500"
                                >
                                    {/* Image Container */}
                                    <div className="relative aspect-[16/10] overflow-hidden">
                                        <img
                                            src={cat.img}
                                            alt={cat.title}
                                            className="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110"
                                        />
                                        <div className="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                                    </div>

                                    {/* Content */}
                                    <div className="p-8 flex flex-col flex-grow">
                                        <div className="mb-4">
                                            <span className="inline-block px-3 py-1 rounded-full border border-[#c5a059]/40 text-[#c5a059] text-[9px] uppercase tracking-widest font-bold">
                                                {cat.title}
                                            </span>
                                        </div>
                                        <h3 className="text-2xl font-branding uppercase tracking-wider text-white mb-4 group-hover:text-[#c5a059] transition-colors">
                                            {cat.title}
                                        </h3>
                                        <p className="text-stone-400 text-sm font-light leading-relaxed mb-6 flex-grow">
                                            {cat.desc}
                                        </p>

                                        <div className="flex items-center gap-2 text-[#c5a059] text-[10px] uppercase tracking-[0.2em] font-bold opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-[-10px] group-hover:translate-x-0">
                                            Ver proyectos <ArrowUpRight size={14} />
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const HomeView = ({ onNavigate }) => (
            <div className="animate-fade-in">
                <HeroSession onNavigate={onNavigate} />
                <AboutSection />
                <TrabajosSection onNavigate={onNavigate} />
                <ClientsTicker />
                <GeneralTestimonials />
                <SocialLinksSection />
            </div>
        );

        const Footer = () => (
            <footer className="py-20 border-t border-white/5 bg-stone-950">
                <div className="container mx-auto px-6 text-center">
                    <p className="text-stone-700 text-[10px] uppercase tracking-[0.5em]">
                        &copy; 2024 STRELLA Productora Audiovisual. Todos los derechos reservados.
                    </p>
                </div>
            </footer>
        );

        // --- APP ENTRY POINT ---

        const App = () => {
            // Inicializar la sección basada en el Hash de la URL al cargar la página
            const getInitialSection = () => {
                const hash = window.location.hash.replace('#', '');
                const validSections = ['home', 'trabajos', 'graduaciones', 'graduacion-unap-2026', 'ceremonia-unap-2026', 'contact'];
                return validSections.includes(hash) ? hash : 'home';
            };

            const [section, setSection] = useState(getInitialSection());

            // Escuchar cambios en el navegador (Botón atrás/adelante)
            useEffect(() => {
                const handleHashChange = () => {
                    const hash = window.location.hash.replace('#', '');
                    if (hash && hash !== section) {
                        setSection(hash);
                    } else if (!hash) {
                        setSection('home');
                    }
                };
                window.addEventListener('hashchange', handleHashChange);
                return () => window.removeEventListener('hashchange', handleHashChange);
            }, [section]);

            // Sincronizar el estado de React con la URL para poder compartir el link
            useEffect(() => {
                if (section === 'home') {
                    // Limpiar el hash para la página principal
                    if (window.location.hash) {
                        history.replaceState(null, null, ' ');
                    }
                } else {
                    window.location.hash = section;
                }
                // Scroll al tope al cambiar de vista
                window.scrollTo(0, 0);
            }, [section]);

            const renderContent = () => {
                switch (section) {
                    case 'home': return <HomeView onNavigate={setSection} />;
                    case 'trabajos': return <TrabajosSection onNavigate={setSection} />;
                    case 'graduaciones': return <GraduacionesSection onNavigate={setSection} />;
                    case 'graduacion-unap-2026': return <GraduationGalleryUNAP2026 onNavigate={setSection} />;
                    case 'ceremonia-unap-2026': return <CeremonyGalleryUNAP2026 onNavigate={setSection} />;
                    case 'contact': return <ContactSection />;
                    default: return <HomeView onNavigate={setSection} />;
                }
            };

            return (
                <div className="min-h-screen relative">
                    <Nav currentSection={section} onNavigate={setSection} />
                    <main>
                        {renderContent()}
                    </main>
                    <Footer />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>