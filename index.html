<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>David Estrella | Wedding Filmmaker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&family=Playfair+Display:italic,wght@400;700&alignment=center"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .font-serif {
            font-family: 'Playfair Display', serif;
        }

        @keyframes fade-in {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slide-in-bottom {
            from {
                transform: translateY(1rem);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes zoom-in {
            from {
                transform: scale(0.95);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .animate-in {
            animation-duration: 700ms;
            animation-fill-mode: both;
        }

        .fade-in {
            animation-name: fade-in;
        }

        .slide-in-from-bottom-4 {
            animation-name: slide-in-bottom;
        }

        .zoom-in-95 {
            animation-name: zoom-in;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide Icons Mock (since we'll use lucide-react equivalent via CDN or icons)
        // For simplicity in a single HTML file, we'll use lucide.createIcons or just SVG paths
        // But since the user provided lucide-react code, I'll map them.

        const Icon = ({ name, size = 24, className = "" }) => {
            const [svg, setSvg] = useState("");
            useEffect(() => {
                const icon = lucide.icons[name];
                if (icon) {
                    const svgString = lucide.createIcons({
                        icons: { [name]: icon },
                        attrs: {
                            stroke: "currentColor",
                            "stroke-width": 2,
                            "stroke-linecap": "round",
                            "stroke-linejoin": "round",
                            width: size,
                            height: size,
                            class: className
                        }
                    });
                }
            }, [name, size, className]);

            // Simplified for CDN: use lucide-static or just inject
            return <i data-lucide={name} className={className} style={{ width: size, height: size }}></i>;
        };

        // Mapping provided icons to simple names for the Icon component
        const Camera = (props) => <Icon name="camera" {...props} />;
        const Video = (props) => <Icon name="video" {...props} />;
        const Clock = (props) => <Icon name="clock" {...props} />;
        const Smartphone = (props) => <Icon name="smartphone" {...props} />;
        const Gift = (props) => <Icon name="gift" {...props} />;
        const Star = (props) => <Icon name="star" {...props} />;
        const CheckCircle = (props) => <Icon name="check-circle" {...props} />;
        const Mail = (props) => <Icon name="mail" {...props} />;
        const Phone = (props) => <Icon name="phone" {...props} />;
        const Instagram = (props) => <Icon name="instagram" {...props} />;
        const ExternalLink = (props) => <Icon name="external-link" {...props} />;
        const HardDrive = (props) => <Icon name="hard-drive" {...props} />;
        const Sparkles = (props) => <Icon name="sparkles" {...props} />;
        const Send = (props) => <Icon name="send" {...props} />;
        const Loader2 = (props) => <Icon name="loader-2" className={`animate-spin ${props.className || ""}`} {...props} />;
        const Heart = (props) => <Icon name="heart" {...props} />;
        const Music = (props) => <Icon name="music" {...props} />;

        const App = () => {
            const [activeTab, setActiveTab] = useState('paquetes');
            const [aiLoading, setAiLoading] = useState(false);
            const [aiResponse, setAiResponse] = useState(null);
            const [coupleDetails, setCoupleDetails] = useState({
                names: '',
                vibe: 'Romántico y Elegante',
                story: '',
                location: ''
            });

            useEffect(() => {
                lucide.createIcons();
            }, [activeTab, aiResponse]);

            // --- Gemini API Logic ---
            const apiKey = ""; // Runtime provided key

            const generateWithRetry = async (prompt, retries = 5, delay = 1000) => {
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: prompt }] }],
                            systemInstruction: {
                                parts: [{ text: "Eres el asistente creativo de David Estrella, un filmmaker de bodas de lujo. Tu tono es inspirador, profesional y muy emotivo. Ayudas a las parejas a visualizar su película de bodas." }]
                            }
                        })
                    });

                    if (!response.ok && retries > 0) {
                        await new Promise(resolve => setTimeout(resolve, delay));
                        return generateWithRetry(prompt, retries - 1, delay * 2);
                    }

                    const data = await response.json();
                    return data.candidates?.[0]?.content?.parts?.[0]?.text;
                } catch (error) {
                    if (retries > 0) {
                        await new Promise(resolve => setTimeout(resolve, delay));
                        return generateWithRetry(prompt, retries - 1, delay * 2);
                    }
                    throw error;
                }
            };

            const handleCreativeVision = async () => {
                if (!coupleDetails.names || !coupleDetails.story) return;
                setAiLoading(true);
                setAiResponse(null);

                const prompt = `
                Genera una propuesta narrativa para la boda de ${coupleDetails.names}. 
                Estilo de boda: ${coupleDetails.vibe}. 
                Ubicación: ${coupleDetails.location}.
                Su historia: ${coupleDetails.story}.
                
                Por favor, divide la respuesta en:
                1. Concepto Cinematográfico (Cómo David Estrella contará su historia).
                2. Momentos Clave (3 tomas únicas sugeridas basadas en su historia).
                3. Estilo de Música y Color sugerido.
                Usa un lenguaje que los haga soñar con su video.
                `;

                try {
                    const result = await generateWithRetry(prompt);
                    setAiResponse(result);
                } catch (error) {
                    console.error(error);
                    setAiResponse("Lo siento, hubo un problema al conectar con mi asistente creativo. Por favor, intenta de nuevo.");
                } finally {
                    setAiLoading(false);
                }
            };

            const packages = [
                {
                    id: 'esencial',
                    title: 'ESENCIAL',
                    price: 'S/1,000',
                    description: 'Lo fundamental para no olvidar el gran día.',
                    deliverables: ['Documental de 45 min - 1:30 hr (preparativos a fiesta)'],
                    includes: ['Producción hasta 8 horas', 'Cobertura a 1 cámara', 'Audio profesional'],
                    deliveryTime: '15-30 días'
                },
                {
                    id: 'clasico',
                    title: 'CLÁSICO',
                    price: 'S/1,200',
                    description: 'El equilibrio perfecto entre detalle y emoción.',
                    featured: true,
                    deliverables: [
                        'Video Resumen (Highlight) 1:30 - 3 min',
                        'Documental de 45 min - 1:30 hr',
                        '35 Momentos Congelados (fotogramas)'
                    ],
                    includes: ['Servicio de Drone', '12 horas de cobertura', '2 cámaras de video'],
                    deliveryTime: '15-30 días'
                },
                {
                    id: 'eterno',
                    title: 'ETERNO',
                    price: 'S/1,800',
                    description: 'La experiencia completa y cinematográfica.',
                    deliverables: [
                        'Reel al día siguiente ✨',
                        'Trailer Cinematográfico 1 min',
                        'Video Resumen 1:30 - 3 min',
                        'Documental completo',
                        '50 Momentos Congelados',
                        'Caja de madera + USB'
                    ],
                    includes: ['Servicio de Drone', '12 horas de cobertura', '2 cámaras + Crew'],
                    deliveryTime: '15-30 días'
                }
            ];

            return (
                <div className="min-h-screen bg-stone-50 font-sans text-stone-900">
                    {/* Hero */}
                    <header className="relative h-[70vh] flex items-center justify-center bg-black text-white">
                        <div className="absolute inset-0 opacity-50">
                            <img
                                src="https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1600"
                                alt="Wedding"
                                className="w-full h-full object-cover"
                            />
                        </div>
                        <div className="relative z-10 text-center px-6">
                            <div className="mb-6 inline-block border border-white/30 px-6 py-2 tracking-[0.4em] text-xs uppercase backdrop-blur-sm">
                                Wedding Filmmaker
                            </div>
                            <h1 className="text-6xl md:text-8xl font-light tracking-tighter mb-4 uppercase">David Estrella</h1>
                            <p className="text-lg md:text-xl italic font-serif opacity-90 max-w-2xl mx-auto">
                                Capturando la esencia de los momentos que se vuelven eternos.
                            </p>
                        </div>
                    </header>

                    {/* Navigation */}
                    <nav className="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-stone-200">
                        <div className="max-w-7xl mx-auto px-6 flex justify-center space-x-8 md:space-x-12 py-4">
                            {['paquetes', 'ia-creativa', 'extras'].map((tab) => (
                                <button
                                    key={tab}
                                    onClick={() => setActiveTab(tab)}
                                    className={`text-xs font-bold uppercase tracking-widest transition-all ${activeTab === tab ? 'text-stone-950 border-b-2 border-stone-950 pb-1' : 'text-stone-400 hover:text-stone-600'}`}
                                >
                                    {tab.replace('-', ' ')} {tab === 'ia-creativa' && '✨'}
                                </button>
                            ))}
                        </div>
                    </nav>

                    <main className="max-w-7xl mx-auto px-6 py-16">

                        {/* Paquetes Section */}
                        {activeTab === 'paquetes' && (
                            <div className="grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-700">
                                {packages.map((pkg) => (
                                    <div
                                        key={pkg.id}
                                        className={`relative flex flex-col bg-white rounded-3xl p-10 border transition-all hover:shadow-2xl ${pkg.featured ? 'border-stone-900 ring-1 ring-stone-900' : 'border-stone-100 shadow-xl shadow-stone-200/50'}`}
                                    >
                                        {pkg.featured && (
                                            <div className="absolute -top-4 left-10 bg-stone-900 text-white px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-[0.2em]">
                                                Más Popular
                                            </div>
                                        )}

                                        <h3 className="text-3xl font-bold mb-1 tracking-tight">{pkg.title}</h3>
                                        <div className="text-4xl font-light mb-4 text-stone-900">{pkg.price}</div>
                                        <p className="text-stone-500 text-sm mb-10 leading-relaxed">{pkg.description}</p>

                                        <div className="space-y-8 flex-grow">
                                            <section>
                                                <h4 className="text-[10px] font-bold uppercase tracking-widest text-stone-400 mb-4 flex items-center gap-2">
                                                    <Video size={14} /> Entregables
                                                </h4>
                                                <ul className="space-y-3">
                                                    {pkg.deliverables.map((item, idx) => (
                                                        <li key={idx} className="flex items-start gap-3 text-sm">
                                                            <CheckCircle size={16} className="text-stone-900 shrink-0 mt-0.5" />
                                                            <span className={item.includes('✨') ? 'font-semibold text-stone-950' : ''}>{item}</span>
                                                        </li>
                                                    ))}
                                                </ul>
                                            </section>

                                            <section>
                                                <h4 className="text-[10px] font-bold uppercase tracking-widest text-stone-400 mb-4">Detalles Técnicos</h4>
                                                <ul className="space-y-2">
                                                    {pkg.includes.map((item, idx) => (
                                                        <li key={idx} className="text-sm text-stone-500 flex items-center gap-2 italic">
                                                            <span className="w-1 h-1 bg-stone-300 rounded-full"></span>
                                                            {item}
                                                        </li>
                                                    ))}
                                                </ul>
                                            </section>
                                        </div>

                                        <a
                                            href={`https://wa.me/51970341772?text=Hola David, me encantó el paquete ${pkg.title}. ¿Podemos conversar?`}
                                            className="mt-12 w-full bg-stone-950 text-white py-4 rounded-xl text-center font-bold text-sm tracking-widest hover:bg-stone-800 transition-colors uppercase"
                                        >
                                            Reservar Fecha
                                        </a>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* AI Creative Section */}
                        {activeTab === 'ia-creativa' && (
                            <div className="max-w-4xl mx-auto animate-in slide-in-from-bottom-4 duration-700">
                                <div className="text-center mb-12">
                                    <h2 className="text-4xl font-serif mb-4 italic">Crea la Visión de tu Boda ✨</h2>
                                    <p className="text-stone-500">Cuéntanos tu historia y nuestra IA te ayudará a imaginar cómo David Estrella capturará la magia de tu día.</p>
                                </div>

                                <div className="bg-white rounded-3xl p-8 md:p-12 shadow-2xl border border-stone-100 grid md:grid-cols-2 gap-12">
                                    <div className="space-y-6">
                                        <div>
                                            <label className="block text-xs font-bold uppercase tracking-widest text-stone-400 mb-2">Nombres</label>
                                            <input
                                                type="text"
                                                placeholder="Ej: Ana & Carlos"
                                                className="w-full bg-stone-50 border-none rounded-xl p-4 focus:ring-2 focus:ring-stone-900 outline-none"
                                                value={coupleDetails.names}
                                                onChange={(e) => setCoupleDetails({ ...coupleDetails, names: e.target.value })}
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-xs font-bold uppercase tracking-widest text-stone-400 mb-2">Estilo de Boda</label>
                                            <select
                                                className="w-full bg-stone-50 border-none rounded-xl p-4 focus:ring-2 focus:ring-stone-900 outline-none"
                                                value={coupleDetails.vibe}
                                                onChange={(e) => setCoupleDetails({ ...coupleDetails, vibe: e.target.value })}
                                            >
                                                <option>Romántico y Elegante</option>
                                                <option>Boho Chic / Al aire libre</option>
                                                <option>Urbano y Moderno</option>
                                                <option>Clásico y Tradicional</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-xs font-bold uppercase tracking-widest text-stone-400 mb-2">Vuestra Historia</label>
                                            <textarea
                                                rows="4"
                                                placeholder="¿Cómo se conocieron? ¿Qué es lo que más les gusta hacer juntos?"
                                                className="w-full bg-stone-50 border-none rounded-xl p-4 focus:ring-2 focus:ring-stone-900 outline-none"
                                                value={coupleDetails.story}
                                                onChange={(e) => setCoupleDetails({ ...coupleDetails, story: e.target.value })}
                                            ></textarea>
                                        </div>
                                        <button
                                            onClick={handleCreativeVision}
                                            disabled={aiLoading}
                                            className="w-full bg-stone-900 text-white py-4 rounded-xl font-bold flex items-center justify-center gap-3 hover:bg-stone-800 disabled:opacity-50 transition-all shadow-lg shadow-stone-900/20"
                                        >
                                            {aiLoading ? <Loader2 className="animate-spin" /> : <Sparkles size={18} />}
                                            GENERAR PROPUESTA CREATIVA ✨
                                        </button>
                                    </div>

                                    <div className="bg-stone-50 rounded-2xl p-8 border border-stone-200 overflow-y-auto max-h-[500px]">
                                        {aiResponse ? (
                                            <div className="prose prose-stone prose-sm">
                                                <h3 className="font-serif italic text-xl mb-4 border-b pb-2">Tu Propuesta Cinematográfica</h3>
                                                <div className="whitespace-pre-wrap leading-relaxed text-stone-700">
                                                    {aiResponse}
                                                </div>
                                            </div>
                                        ) : (
                                            <div className="h-full flex flex-col items-center justify-center text-center text-stone-400 italic">
                                                <Heart size={40} className="mb-4 opacity-20" />
                                                <p>Completa los datos para ver cómo cobra vida tu historia.</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Extras Section */}
                        {activeTab === 'extras' && (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-in zoom-in-95 duration-500">
                                {[
                                    { title: 'Pre Boda', price: 'S/300', icon: 'camera', desc: 'Una sesión divertida para perder el miedo a la cámara.' },
                                    { title: 'Trash the Dress', price: 'S/400', icon: 'star', desc: 'Creatividad pura después de la boda.' },
                                    { title: 'Archivos en Crudo', price: 'S/500', icon: 'hard-drive', desc: 'Cada segundo grabado en alta resolución.' },
                                    { title: 'USB + Impresiones', price: 'S/120', icon: 'gift', desc: 'Tu recuerdo en físico con 10 fotos impresas.' },
                                ].map((extra, idx) => (
                                    <div key={idx} className="bg-white p-8 rounded-3xl border border-stone-100 shadow-xl shadow-stone-200/40 hover:-translate-y-1 transition-transform">
                                        <div className="w-12 h-12 bg-stone-950 text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg shadow-stone-950/20">
                                            <Icon name={extra.icon} />
                                        </div>
                                        <h3 className="font-bold text-xl mb-1">{extra.title}</h3>
                                        <p className="text-2xl font-light mb-4">{extra.price}</p>
                                        <p className="text-xs text-stone-500 leading-relaxed">{extra.desc}</p>
                                    </div>
                                ))}
                            </div>
                        )}

                    </main>

                    {/* Footer */}
                    <footer className="bg-stone-950 text-white pt-24 pb-12 px-6 overflow-hidden relative">
                        <div className="absolute top-0 right-0 w-96 h-96 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"></div>
                        <div className="max-w-7xl mx-auto relative z-10">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-16 items-start mb-24">
                                <div>
                                    <h2 className="text-5xl md:text-6xl font-serif italic mb-8 leading-tight">Tu historia merece<br />ser contada.</h2>
                                    <div className="flex flex-col space-y-4">
                                        <a href="tel:+51970341772" className="flex items-center gap-4 text-stone-400 hover:text-white transition-colors group">
                                            <div className="w-10 h-10 border border-stone-800 rounded-full flex items-center justify-center group-hover:border-white">
                                                <Phone size={16} />
                                            </div>
                                            <span>+51 970 341 772</span>
                                        </a>
                                        <a href="https://instagram.com/davidestrella_films" className="flex items-center gap-4 text-stone-400 hover:text-white transition-colors group">
                                            <div className="w-10 h-10 border border-stone-800 rounded-full flex items-center justify-center group-hover:border-white">
                                                <Instagram size={16} />
                                            </div>
                                            <span>@davidestrella_films</span>
                                        </a>
                                    </div>
                                </div>
                                <div className="md:text-right flex flex-col md:items-end">
                                    <div className="text-7xl font-bold tracking-tighter mb-4 opacity-20">DE</div>
                                    <p className="text-xs tracking-[0.5em] uppercase text-stone-500 mb-8">David Estrella Films</p>
                                    <div className="bg-white/5 backdrop-blur-md p-8 rounded-2xl border border-white/10 text-left max-w-sm">
                                        <p className="text-sm italic text-stone-300 mb-4">"No grabamos bodas, capturamos el inicio de un legado familiar."</p>
                                        <div className="h-px bg-white/10 w-12 mb-4"></div>
                                        <p className="text-[10px] uppercase tracking-widest font-bold">David Estrella</p>
                                    </div>
                                </div>
                            </div>

                            <div className="pt-8 border-t border-stone-900 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] text-stone-600 uppercase tracking-widest">
                                <span>© 2024 David Estrella Filmmaker</span>
                                <div className="flex gap-6">
                                    <a href="#" className="hover:text-white transition-colors">Términos</a>
                                    <a href="#" className="hover:text-white transition-colors">Privacidad</a>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>